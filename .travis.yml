dist: trusty
sudo: false
env:
  global:
    - CC_TEST_REPORTER_ID=15e0fe9b49348551008db1516b9cf6289846dc93063dee1f49aa28f679b602ae
addons:
  sonarcloud:
    organization: "lucacappelletti94-github"
    token:
      secure: "kwDUEBQ+tQWKp0Pd1WYWNNf5zYqhcrFcE2olJEW0mUyPZtwOUJ6oL2e2vLC6JywoPfA8dNV63yf58hGGKkQqdKW318b6/+Cw0I012CGA148Ckcf8GPF10ON+6iXOEZs5yKUiTgZOF4eBcQV5Rn4VHof3Y61VFy3+UtHZCTAlHLnXdS+RQHzrmPfKfgu18KwuBCVERex5oCj00uze1gwz1DIJk6majFzjwzaIvTlsTm7XGxPUPkPn8wjABUw495xNFyaV3rVgl74ad5bT7fOi1reyKPhaU+X5ihuq78ZMnVYsT5Fl/0Ppr7LZo1jXv+cKWA3HyxamaTPZff/hXRHyf4pMlSWQyWee+TBhXxaxSS71/6vQEw8gEsisrJUWKf6tV5u6c3D059v2ASmT4Cm9P8yhxmMuu72zIUqKgOG8UGrlsbHFNZIZ+jABfCzt/CTa9fGP5lyFd1/NZ+rlarN6X7iU+8KilLcqdQYsE0806+9PdoKwLNHvHmxfy/JvEHMpTbH+4TIWPWJTspFlhrxYSjncYvBSSiXGXXp2wnjTgM/PIiYyLizjLGvhHIicUt714+nqjVguXZp8J4NX6M8Q9CI4UrEtUUID+X9C5pfHr/hIqN5jbe0/YuaVp6Cz/N3HDiEtk+xKoKZ32HPyfHOmV6UitIsBafgHQBo6DvlUNB8="
language: python
python:
- '3.6'
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.sonar/cache"
install:
- pip install -r test_requirements.txt
- pip install .
before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
after_script:
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
script:
- pytest --cov=./dictances --cov-report xml:coverage.xml
- sonar-scanner
after_success:
- coveralls

notifications:
  webhooks: https://fathomless-fjord-24024.herokuapp.com/notify
  email: false
